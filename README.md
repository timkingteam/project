# Pacman
Автор: Русанов Тимофей Б05-127
Язык: python

# Updates

+ Удалил из проекта все лишнее, добавил .gitignore
+ Разместил все файлы по папкам
+ Заменил создание юнитов из __init__ на Abstract Factory
+ Написал код, позволяющий призраку искать кратчайший путь до игрока
+ Сделал class **Ghost** абстрактным, добавив подклассы с различным поведением
+ Обновил UML диаграмму (лежит в папке **other**)

# Gameplay
Обычный Pacman. Перемещение стрелками. При съедании кружков, даются очки. При съедании всех кружков - победа. При столкновении с призраком - поражение.

# Файлы
**run.sh** - исполняемый файл. Скачивает **requirements.txt** и запускает **main.py**

**main.py** - основной файл проекта. Он просто запускает __init__ у класса Game из **game.py**

**UnitClass**, **PacmanClass**, **GhostClass** - файлы классов

**map.py** - 2d list карты

**variables.py** - глобальные переменные

# Архитектура
В **UML class.pdf** лежит диаргамма

Сначала запускается **main**
Из него game.__init__
Он содержит в себе **generate**  и **run**

**generate** создает окно, игрока, призраков и монетки. Также ставит **current_event = 'start screen'**

**run** запускает while True, в котором в зависимости от **current_event** запускается функция события

**StartScreen**, **WinScreen**, **LoseScreen** - простая отрисовка + проверка на выход из программы

**MainEvent** содержит три функции

**PlayDraw** рисует карту, монетки, очки, призраков и игрока
**PlayKeyboard** считывает стрелки, применяя функции **MoveUp**, **MoveRight**... к **pacman**
**PlayUpdate** обмновляет монетки, пакмана и призраков, а также проверяет победу и поражение

**Pacman** и **Ghost** оба являются наследниками виртуального класса **Unit** (abstract factory):

сам Unit умеет лишь смотреть находится ли он внутри сетки и рядом со стеной

Взаимодействие между объектами:
Поедание монеток происходит, простым изменением списка **MAP** на месте, где стоит **pacman**

Смерть происходит сравнением позиций между призраком и игроков в функции **PlayUpdate**

Столкновение со стенками происходит сравнением со списком из координат WALL

